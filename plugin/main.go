package main

import (
	"fmt"
	"syscall"
)

func main() {

	// Construct a packet to send
	//pkt := []byte{
	//	0x6c, 0x62, 0x6d, 0x50, 0xe6, 0xe4, 0x94, 0xde, 0x80, 0xa5, 0xec, 0x79, 0x08, 0x00, 0x45, 0x00,
	//	0x00, 0x3c, 0x47, 0xd9, 0x40, 0x00, 0x40, 0x06, 0xb5, 0x94, 0xc0, 0xa8, 0x34, 0x7b, 0x36, 0xe7,
	//	0x11, 0x44, 0xc3, 0x66, 0x00, 0x50, 0x09, 0x58, 0x6b, 0xeb, 0x00, 0x00, 0x00, 0x00, 0xa0, 0x02,
	//	0x72, 0x10, 0x26, 0x38, 0x00, 0x00, 0x02, 0x04, 0x05, 0xb4, 0x04, 0x02, 0x08, 0x0a, 0x0d, 0x3d,
	//	0x2c, 0x32, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x07,
	//}

	// Socket is defined as:
	// func Socket(domain, typ, proto int) (fd int, err error)
	// Domain specifies the protocol family to be used - this should be AF_PACKET
	// to indicate we want the low level packet interface
	// Type specifies the semantics of the socket
	// Protocol specifies the protocol to use - kept here as ETH_P_ALL to
	// indicate all protocols over Ethernet
	fd, err := syscall.Socket(syscall.AF_INET, syscall.SOCK_RAW,
		syscall.ETH_P_ALL)
	if err != nil {
		fmt.Println("Error: " + err.Error())
		return
	}
	fmt.Println("Obtained fd ", fd)
	defer syscall.Close(fd)

	// Do something with fd here

}
